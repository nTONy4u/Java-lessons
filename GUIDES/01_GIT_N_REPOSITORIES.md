
## Git  
1. Устанавливаем Git (Global information tracker && etc. - 2005:Linus Torvalds) по инструкции из https://git-scm.com/book/en/v2/Getting-Started-Installing-Git  
Предварительно, нужно проверить,возможно, он уже есть - в консоль вводим git version (если есть - можно узнать команды вводим git)  
2. Запускаем его и конфигурируем:  
```git config --global  user.name "Имя Отчество Фамилия"``` // устанавливаем имя (можно несколько (без кавычек только первое слово запомнит))  
```git config --global  user.email "ваш@email.com"``` // устанавливаем email для связи (виден в коммитах)  
```git config --list``` // проверяем конфигурацию командой  
  
3. Изучаем работу с файловой системой командами (можно комбинировать команды - ``` && ``` // листать ранее использованные - клавишами вверх/вниз // пользоваться автодополнением - tab):  
```pwd``` // узнаем текущее местоположение  
```ls``` // узнаем список файлов в текущей папке (каталоге/директории)  
```ls -a```  // ... в т.ч. скрытые  
```cd ~``` // меняем текущую директорию на домашнюю  
```cd ..``` // выходим в папку, в которой находится текущая (вверх по иерархии)  
```cd /ваш/путь/``` // меняем текущую папку на указанную  
```mkdir /ваш/путь/имя``` // создаем папку с указанным именем  
```rmdir /ваш/путь/имя``` // удаляем только пустую папку с указанным именем  
```rm -r /ваш/путь/имя``` // удаляем папку с указанным именем, которая что-то содержит  
```touch имя.расширение``` // создаем в текущей папке файл.имя с указанным расширением  
```cat имя.расширение``` // просматриваем файл  
```rm /ваш/путь/имя.расширение``` // удаляем в указанной папке файл.имя с указанным расширением (```rm имя.расширение``` - ... в текущей)  
```cp```  //copy  
```mv```  //move  
etc. 
  
4. Работаем с репозиторием:  
0.1 ```git init``` // создали .git репозиторий в текущей папке (появится .git cкрытая папка)  
```git status``` // проверили состояние (лучше после каждой операции с локальным репозиторием или ```git diff --cached```)  
```rm -rf .git``` // удалили .git репозиторий в текущей папке (можно все сломать)  
```git add имя.расширение``` // указали для отслеживания файл (tracked - трекнули) что нужно коммитить  
0.2 ```git add .``` // или трекнули всю папку (или git add --all)  
```git ignore имя.расширение``` // добавление исключений для коммита (к примеру, файл со своими комментариями по проекту)  
```git reset  имя.расширение``` // удалить ошибочно добавленный в staged файл (к примеру, не обновили еще)  
0.3 ```git commit -m 'указали комментарий'``` // и закоммитили текущую папку (по коммитам есть свой "чистый код")  
```git commit --amend -m "поправленный комментарий"``` / позволяет изменить текст описания последнего коммита  
```git log``` // проверили историю коммитов (информация - кто когда и что)  
  
## Remote repository  
  
### GitHub  
5 Создаем учетную запись в удаленном репозитории:  
  
5.1 GitHub  
Переходим на сайт https://github.com/
Создаем и связываем ключи безопасности (свой и публичный) https://docs.github.com/en/authentication/connecting-to-github-with-ssh/generating-a-new-ssh-key-and-adding-it-to-the-ssh-agent  
Создаем новый репозиторий на сайте, сразу появится список основных команд  
```git init
git add README.md
git commit -m "first commit"
git branch -M main
git remote add origin git@github.com:nTONy4u/Java-lessons.git
git push -u origin main
```
  
Работаем с ним:  
0.4 ```git remote add origin git@github.com:YourGitHubName/first-project.git``` // привязываем удаленный к текущему ранее созданному (ввод команды из этой папки должен быть)  
```git remote -v``` // проверяем привязку  
0.5 ```git push -u origin main``` / ```git push``` // выгружаем то, что проделали по пп.0.2 0.3 (-u -master/main - название ветки и только для первого раза, далее Git запоминает эту ветку для простой команды push)  
  
  ```git branch``` // посмотреть ветки  
  ```git branch имяНовойВетки``` // создать новую ветку проекта для изменений  
  ```git merge имяДругойВетки```// слияние изменений с текущей веткой  
  ```git checkout main``` / ```git switch main``` // переключение между ветками (тут main=id ветки) 
  
  //detached head (особое состояние)  
  
  ```git checkout <hashCommit>``` // команда, переводящая в это состояние (к примеру, для просмотра проекта к определенному коммиту и дальнейшей работе начиная с него)  
  ```git checkout -b имяНовойВетки``` // сохранение из состояния detached head и создание новой ветки  
  
  Что-то сломалось  
```git checkout .``` // откат к предыдущему изменению  
```git reset``` // удалить последний коммит (--soft/--soft HEAD1/--hard HEAD1)  
```git log --merge``` // посмотреть конфликты слияний (к примеру, когда другой успел поправить и заккомить, а ты только поправил)  
  
  Когда несколько веток и возник конфликт - наиболее частый конфликт master и main  
1. git checkout main // откатываем к предыдущему push  
2. git pull // загрузка из проблемной и слияние с текущей веткой (по сути = git fetch && git merge)
3. git rebase master // объединяет коммиты  после pull  
4. git push -f -u origin main // перезапиcываем всю историю main  
5. git push -d origin master // удаляем ту самую master ветку  
6. git branch -d master // удаляем локальную master ветку  
  
  еще один из вариантов  
  ```git checkout master
git pull upstream master
git checkout feature
git rebase master
```
  
Работаем с чужими репозиториями:  
```git clone https://github.com/AnotherGitHubName/имя_клонируемого_репозитория``` // создаем себе в локальную папку клон чужого (появится в текущей папке // можно копировать специальными ссылками с сайта)  
```git clone git@github.com:YourGitHubName/name-forked-project.git``` // загружаем к себе для работы в локальную папку форкнутый (скопированный для самостоятельного продолжения проекта)  

  
  
## GOGS on Raspberry  
  
  обновляемся и устанавливаем необходимое  
  ```sudo apt update
sudo apt install wget unzip git -y
```
  
  Непосредственно работа по настройке  
```sudo adduser --system --shell /bin/bash --gecos "User for managing of gogs server" --group --disabled-password --home /home/git git``` создаем нового пользователя без пароля  
  
  Ищем последнюю версию armv7architecture на  https://dl.gogs.io/  
  
  ..и ставим  
  ```sudo su -c 'su git -c "wget https://dl.gogs.io/0.12.3/gogs_0.12.3_linux_armv7.zip -O ~/gogs_download.zip"'```
  
  разархивируем и удаляем ненужное  
  ```sudo su -c 'su git -c "unzip ~/gogs_download.zip -d ~/"'
sudo su -c 'su git -c "rm ~/gogs_download.zip"'```  

запускаем службу Gogs  
  ```sudo wget https://raw.githubusercontent.com/gogs/gogs/main/scripts/systemd/gogs.service -O /lib/systemd/system/gogs.service
sudo systemctl enable gogs
sudo service gogs start
```
  
  Переходим в браузере http://<your-raspbery-ip>:3000/install и следуем шагам установки!  